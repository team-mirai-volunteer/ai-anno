# 実装イシュー一覧

## Unity-Dify統合開発 実装イシュー

### 🔄 **現在進行中**
- TDD対応 Unity-Dify統合実装
- Pure C# + Interface設計での段階的開発

### ✅ **解決済み**
- Dify API動作確認
- TTS機能検証
- ストリーミング応答確認

### 📋 **今後の課題**
- Unity Editor非依存のテスト環境構築
- モック機能の実装
- パフォーマンス最適化

---

## 実装フェーズ計画

### **Phase 1: Pure C# 基盤** 
- [ ] データクラス実装
- [ ] Interface定義
- [ ] Unit Tests作成

### **Phase 2: Infrastructure**
- [ ] SSEParser実装
- [ ] HTTP Client実装
- [ ] 音声処理実装

### **Phase 3: Service Layer**
- [ ] DifyService実装
- [ ] モック使用テスト
- [ ] 統合テスト

### **Phase 4: Unity統合**
- [ ] 最小限のMonoBehaviour
- [ ] 既存システムとの並行動作
- [ ] E2Eテスト

### **Phase 5: 本格運用**
- [ ] エラーハンドリング強化
- [ ] パフォーマンス調整
- [ ] プロダクション対応

---

## 技術的課題

### **TDD環境構築**
- Unity Test Runner設定
- Mock framework選定
- CI/CD統合

### **音声ストリーミング**
- Base64 MP3デコード
- リアルタイム再生
- メモリ管理

### **エラーハンドリング**
- Dify API障害対応
- ネットワーク切断処理
- フォールバック機能

---

## 優先順位

### **High Priority**
1. Pure C# データレイヤー実装
2. TDD環境構築
3. 基本HTTP通信実装

### **Medium Priority**
1. 音声ストリーミング機能
2. 統合テスト
3. パフォーマンス最適化

### **Low Priority**
1. UI改善
2. 詳細ログ機能
3. 設定画面追加